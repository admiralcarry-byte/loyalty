export interface Translations {
  [key: string]: string;
}

export interface LanguageTranslations {
  [language: string]: Translations;
}

const translations: LanguageTranslations = {
  Portuguese: {
    'dashboard': 'Painel de Controle',
    'user.management': 'Gerenciamento de Usuários',
    'sales.management': 'Gerenciamento de Vendas',
    'commission.settings': 'Configurações de Comissão',
    'reports.analytics': 'Relatórios e Análises',
    'stores': 'Lojas',
    'billing.integration': 'Integração de Faturamento',
    'settings': 'Configurações',
    'total.users': 'Total de Usuários',
    'total.sales': 'Total de Vendas',
    'total.commissions': 'Total de Comissões',
    'total.stores': 'Total de Lojas',
    'active.users': 'Usuários Ativos',
    'users': 'Usuários',
    'customers': 'Clientes',
    'influencers': 'Influenciadores',
    'user': 'Usuário',
    'customer': 'Cliente',
    'influencer': 'Influenciador',
    'type': 'Tipo',
    'tier': 'Nível',
    'status': 'Status',
    'actions': 'Ações',
    'view.details': 'Ver Detalhes',
    'edit.user.info': 'Editar Informações do Usuário',
    'change.password': 'Alterar Senha',
    'block.user': 'Bloquear Usuário',
    'unblock.user': 'Desbloquear Usuário',
    'delete.user': 'Excluir Usuário',
    'add.new.sale': 'Adicionar Nova Venda',
    'sale.details': 'Detalhes da Venda',
    'add.new.store': 'Adicionar Nova Loja',
    'cancel': 'Cancelar',
    'close': 'Fechar',
    'save': 'Salvar',
    'edit': 'Editar',
    'delete': 'Excluir',
    'loading': 'Carregando...',
    'error': 'Erro',
    'success': 'Sucesso',
    'system.settings': 'Configurações do Sistema',
    'system.settings.subtitle': 'Configurar preferências e configurações do sistema',
    'active.settings': 'Configurações Ativas',
    'saved.changes': 'Alterações Salvas',
    'system.status': 'Status do Sistema',
    'from.last.month': 'do mês passado',
    'all.systems.operational': 'Todos os Sistemas Operacionais',
    'database.management': 'Gerenciamento de Banco de Dados',
    'database.management.subtitle': 'Gerenciar backup, cache e estrutura do banco de dados',
    'join.status.checked': 'Status de Junção Verificado',
    'database.join.optimized': 'A estrutura de junção do banco de dados está otimizada',
    'check.join.status': 'Verificar Status de Junção',
    'clean.cache': 'Limpar Cache',
    'cache.cleaned': 'Cache Limpo',
    'cache.cleared.successfully': 'Cache limpo com sucesso',
    'failed.to.clean.cache': 'Falha ao limpar cache',
    'backup.database': 'Backup do Banco de Dados',
    'backup.created': 'Backup Criado',
    'backup.created.successfully': 'Backup criado com sucesso',
    'failed.to.create.backup': 'Falha ao criar backup',
    'delete.database': 'Excluir Banco de Dados',
    'database.deleted': 'Banco de Dados Excluído',
    'database.deleted.permanently': 'Banco de dados excluído permanentemente',
    'failed.to.delete.database': 'Falha ao excluir banco de dados',
    'select.language': 'Selecionar Idioma',
    'language.changed': 'Idioma Alterado',
    'interface.language.changed': 'Idioma da interface alterado para',
    'failed.to.save.settings': 'Falha ao salvar configurações',
    'failed.to.load.statistics': 'Falha ao carregar estatísticas',
    'failed.to.check.join.status': 'Falha ao verificar status de junção',
    'refresh': 'Atualizar',
    'refreshing': 'Atualizando...',
    'admin.panel': 'Painel Admin',
    'loyalty.tiers': 'Níveis de Fidelidade',
    'platinum': 'Platina',
    'gold': 'Ouro',
    'silver': 'Prata',
    'lead': 'Iniciante',
    'live.system': 'Sistema Ativo',
    'customer.found': 'Cliente Encontrado',
    'customer.not.found': 'Cliente Não Encontrado',
    'no.customer.found.with.this.phone.number': 'Nenhum cliente encontrado com este número de telefone',
    'invoice.generated': 'Fatura Gerada',
    'invoice.has.been.generated.and.downloaded.successfully': 'A fatura foi gerada e baixada com sucesso',
    'invoice.generation.failed': 'Falha na Geração da Fatura',
    'failed.to.generate.invoice.please.try.again': 'Falha ao gerar fatura. Tente novamente.',
    'invoice.generation': 'Geração de Fatura',
    'create.invoices.with.qr.codes': 'Criar faturas com códigos QR',
    'customer.information.capture': 'Captura de informações do cliente',
    'create.invoice': 'Criar Fatura',
    'enter.customer.and.purchase.information.to.generate.an.invoice': 'Digite as informações do cliente e da compra para gerar uma fatura',
    'loading.customer.data': 'Carregando dados do cliente...',
    'enter.liters': 'Digite os litros',
    'enter.amount': 'Digite o valor',
    'amount.currency': 'Valor (Kz)',
  },
  English: {
    'dashboard': 'Dashboard',
    'user.management': 'User Management',
    'sales.management': 'Sales Management',
    'commission.settings': 'Commission Settings',
    'reports.analytics': 'Reports & Analytics',
    'stores': 'Stores',
    'billing.integration': 'Billing Integration',
    'settings': 'Settings',
    'total.users': 'Total Users',
    'total.sales': 'Total Sales',
    'total.commissions': 'Total Commissions',
    'total.stores': 'Total Stores',
    'active.users': 'Active Users',
    'users': 'Users',
    'customers': 'Customers',
    'influencers': 'Influencers',
    'user': 'User',
    'customer': 'Customer',
    'influencer': 'Influencer',
    'type': 'Type',
    'tier': 'Tier',
    'status': 'Status',
    'actions': 'Actions',
    'view.details': 'View Details',
    'edit.user.info': 'Edit User Info',
    'change.password': 'Change Password',
    'block.user': 'Block User',
    'unblock.user': 'Unblock User',
    'delete.user': 'Delete User',
    'add.new.sale': 'Add New Sale',
    'sale.details': 'Sale Details',
    'add.new.store': 'Add New Store',
    'cancel': 'Cancel',
    'close': 'Close',
    'save': 'Save',
    'edit': 'Edit',
    'delete': 'Delete',
    'loading': 'Loading...',
    'error': 'Error',
    'success': 'Success',
    'system.settings': 'System Settings',
    'system.settings.subtitle': 'Configure system preferences and settings',
    'active.settings': 'Active Settings',
    'saved.changes': 'Saved Changes',
    'system.status': 'System Status',
    'from.last.month': 'from last month',
    'all.systems.operational': 'All Systems Operational',
    'database.management': 'Database Management',
    'database.management.subtitle': 'Manage database backup, cache and structure',
    'join.status.checked': 'Join Status Checked',
    'database.join.optimized': 'The database join structure is optimized',
    'check.join.status': 'Check Join Status',
    'clean.cache': 'Clean Cache',
    'cache.cleaned': 'Cache Cleaned',
    'cache.cleared.successfully': 'Cache cleared successfully',
    'failed.to.clean.cache': 'Failed to clean cache',
    'backup.database': 'Backup Database',
    'backup.created': 'Backup Created',
    'backup.created.successfully': 'Backup created successfully',
    'failed.to.create.backup': 'Failed to create backup',
    'delete.database': 'Delete Database',
    'database.deleted': 'Database Deleted',
    'database.deleted.permanently': 'Database deleted permanently',
    'failed.to.delete.database': 'Failed to delete database',
    'select.language': 'Select Language',
    'language.changed': 'Language Changed',
    'interface.language.changed': 'Interface language changed to',
    'failed.to.save.settings': 'Failed to save settings',
    'failed.to.load.statistics': 'Failed to load statistics',
    'failed.to.check.join.status': 'Failed to check join status',
    'refresh': 'Refresh',
    'refreshing': 'Refreshing...',
    'admin.panel': 'Admin Panel',
    'loyalty.tiers': 'Loyalty Tiers',
    'platinum': 'Platinum',
    'gold': 'Gold',
    'silver': 'Silver',
    'lead': 'Lead',
    'live.system': 'Live System',
    'customer.found': 'Customer Found',
    'customer.not.found': 'Customer Not Found',
    'no.customer.found.with.this.phone.number': 'No customer found with this phone number',
    'invoice.generated': 'Invoice Generated',
    'invoice.has.been.generated.and.downloaded.successfully': 'Invoice has been generated and downloaded successfully',
    'invoice.generation.failed': 'Invoice Generation Failed',
    'failed.to.generate.invoice.please.try.again': 'Failed to generate invoice. Please try again.',
    'invoice.generation': 'Invoice Generation',
    'create.invoices.with.qr.codes': 'Create invoices with QR codes',
    'customer.information.capture': 'Customer information capture',
    'create.invoice': 'Create Invoice',
    'enter.customer.and.purchase.information.to.generate.an.invoice': 'Enter customer and purchase information to generate an invoice',
    'loading.customer.data': 'Loading customer data...',
    'enter.liters': 'Enter liters',
    'enter.amount': 'Enter amount',
    'amount.currency': 'Amount (Kz)',
  },
  Spanish: {
    'dashboard': 'Panel de Control',
    'user.management': 'Gestión de Usuarios',
    'sales.management': 'Gestión de Ventas',
    'commission.settings': 'Configuración de Comisiones',
    'reports.analytics': 'Informes y Análisis',
    'stores': 'Tiendas',
    'billing.integration': 'Integración de Facturación',
    'settings': 'Configuraciones',
    'total.users': 'Total de Usuarios',
    'total.sales': 'Total de Ventas',
    'total.commissions': 'Total de Comisiones',
    'total.stores': 'Total de Tiendas',
    'active.users': 'Usuarios Activos',
    'users': 'Usuarios',
    'customers': 'Clientes',
    'influencers': 'Influenciadores',
    'user': 'Usuario',
    'customer': 'Cliente',
    'influencer': 'Influenciador',
    'type': 'Tipo',
    'tier': 'Nivel',
    'status': 'Estado',
    'actions': 'Acciones',
    'view.details': 'Ver Detalles',
    'edit.user.info': 'Editar Información de Usuario',
    'change.password': 'Cambiar Contraseña',
    'block.user': 'Bloquear Usuario',
    'unblock.user': 'Desbloquear Usuario',
    'delete.user': 'Eliminar Usuario',
    'add.new.sale': 'Agregar Nueva Venta',
    'sale.details': 'Detalles de Venta',
    'add.new.store': 'Agregar Nueva Tienda',
    'cancel': 'Cancelar',
    'close': 'Cerrar',
    'save': 'Guardar',
    'edit': 'Editar',
    'delete': 'Eliminar',
    'loading': 'Cargando...',
    'error': 'Error',
    'success': 'Éxito',
    'system.settings': 'Configuraciones del Sistema',
    'system.settings.subtitle': 'Configurar preferencias y configuraciones del sistema',
    'active.settings': 'Configuraciones Activas',
    'saved.changes': 'Cambios Guardados',
    'system.status': 'Estado del Sistema',
    'from.last.month': 'del mes pasado',
    'all.systems.operational': 'Todos los Sistemas Operacionales',
    'database.management': 'Gestión de Base de Datos',
    'database.management.subtitle': 'Gestionar respaldo, caché y estructura de la base de datos',
    'join.status.checked': 'Estado de Unión Verificado',
    'database.join.optimized': 'La estructura de unión de la base de datos está optimizada',
    'check.join.status': 'Verificar Estado de Unión',
    'clean.cache': 'Limpiar Caché',
    'cache.cleaned': 'Caché Limpiado',
    'cache.cleared.successfully': 'Caché limpiado exitosamente',
    'failed.to.clean.cache': 'Error al limpiar caché',
    'backup.database': 'Respaldar Base de Datos',
    'backup.created': 'Respaldo Creado',
    'backup.created.successfully': 'Respaldo creado exitosamente',
    'failed.to.create.backup': 'Error al crear respaldo',
    'delete.database': 'Eliminar Base de Datos',
    'database.deleted': 'Base de Datos Eliminada',
    'database.deleted.permanently': 'Base de datos eliminada permanentemente',
    'failed.to.delete.database': 'Error al eliminar base de datos',
    'select.language': 'Seleccionar Idioma',
    'language.changed': 'Idioma Cambiado',
    'interface.language.changed': 'Idioma de la interfaz cambiado a',
    'failed.to.save.settings': 'Error al guardar configuraciones',
    'failed.to.load.statistics': 'Error al cargar estadísticas',
    'failed.to.check.join.status': 'Error al verificar estado de unión',
    'refresh': 'Actualizar',
    'refreshing': 'Actualizando...',
    'admin.panel': 'Panel de Administración',
    'loyalty.tiers': 'Niveles de Lealtad',
    'platinum': 'Platino',
    'gold': 'Oro',
    'silver': 'Plata',
    'lead': 'Iniciante',
    'live.system': 'Sistema Activo',
    'customer.found': 'Cliente Encontrado',
    'customer.not.found': 'Cliente No Encontrado',
    'no.customer.found.with.this.phone.number': 'Ningún cliente encontrado con este número de teléfono',
    'invoice.generated': 'Factura Generada',
    'invoice.has.been.generated.and.downloaded.successfully': 'La factura ha sido generada y descargada exitosamente',
    'invoice.generation.failed': 'Fallo en la Generación de Factura',
    'failed.to.generate.invoice.please.try.again': 'Error al generar factura. Por favor intente de nuevo.',
    'invoice.generation': 'Generación de Factura',
    'create.invoices.with.qr.codes': 'Crear facturas con códigos QR',
    'customer.information.capture': 'Captura de información del cliente',
    'create.invoice': 'Crear Factura',
    'enter.customer.and.purchase.information.to.generate.an.invoice': 'Ingrese información del cliente y compra para generar una factura',
    'loading.customer.data': 'Cargando datos del cliente...',
    'enter.liters': 'Ingrese litros',
    'enter.amount': 'Ingrese monto',
    'amount.currency': 'Monto (Kz)',
  },
  French: {
    'dashboard': 'Tableau de Bord',
    'user.management': 'Gestion des Utilisateurs',
    'sales.management': 'Gestion des Ventes',
    'commission.settings': 'Paramètres de Commission',
    'reports.analytics': 'Rapports et Analyses',
    'stores': 'Magasins',
    'billing.integration': 'Intégration de Facturation',
    'settings': 'Paramètres',
    'total.users': 'Total des Utilisateurs',
    'total.sales': 'Total des Ventes',
    'total.commissions': 'Total des Commissions',
    'total.stores': 'Total des Magasins',
    'active.users': 'Utilisateurs Actifs',
    'users': 'Utilisateurs',
    'customers': 'Clients',
    'influencers': 'Influenceurs',
    'user': 'Utilisateur',
    'customer': 'Client',
    'influencer': 'Influenceur',
    'type': 'Type',
    'tier': 'Niveau',
    'status': 'Statut',
    'actions': 'Actions',
    'view.details': 'Voir Détails',
    'edit.user.info': 'Modifier les Informations Utilisateur',
    'change.password': 'Changer le Mot de Passe',
    'block.user': 'Bloquer l\'Utilisateur',
    'unblock.user': 'Débloquer l\'Utilisateur',
    'delete.user': 'Supprimer l\'Utilisateur',
    'add.new.sale': 'Ajouter Nouvelle Vente',
    'sale.details': 'Détails de la Vente',
    'add.new.store': 'Ajouter Nouveau Magasin',
    'cancel': 'Annuler',
    'close': 'Fermer',
    'save': 'Sauvegarder',
    'edit': 'Modifier',
    'delete': 'Supprimer',
    'loading': 'Chargement...',
    'error': 'Erreur',
    'success': 'Succès',
    'system.settings': 'Paramètres du Système',
    'system.settings.subtitle': 'Configurer les préférences et paramètres du système',
    'active.settings': 'Paramètres Actifs',
    'saved.changes': 'Changements Sauvegardés',
    'system.status': 'Statut du Système',
    'from.last.month': 'du mois dernier',
    'all.systems.operational': 'Tous les Systèmes Opérationnels',
    'database.management': 'Gestion de Base de Données',
    'database.management.subtitle': 'Gérer la sauvegarde, le cache et la structure de la base de données',
    'join.status.checked': 'Statut de Jointure Vérifié',
    'database.join.optimized': 'La structure de jointure de la base de données est optimisée',
    'check.join.status': 'Vérifier le Statut de Jointure',
    'clean.cache': 'Nettoyer le Cache',
    'cache.cleaned': 'Cache Nettoyé',
    'cache.cleared.successfully': 'Cache nettoyé avec succès',
    'failed.to.clean.cache': 'Échec du nettoyage du cache',
    'backup.database': 'Sauvegarder la Base de Données',
    'backup.created': 'Sauvegarde Créée',
    'backup.created.successfully': 'Sauvegarde créée avec succès',
    'failed.to.create.backup': 'Échec de la création de sauvegarde',
    'delete.database': 'Supprimer la Base de Données',
    'database.deleted': 'Base de Données Supprimée',
    'database.deleted.permanently': 'Base de données supprimée définitivement',
    'failed.to.delete.database': 'Échec de la suppression de la base de données',
    'select.language': 'Sélectionner la Langue',
    'language.changed': 'Langue Modifiée',
    'interface.language.changed': 'Langue de l\'interface changée en',
    'failed.to.save.settings': 'Échec de la sauvegarde des paramètres',
    'failed.to.load.statistics': 'Échec du chargement des statistiques',
    'failed.to.check.join.status': 'Échec de la vérification du statut de jointure',
    'refresh': 'Actualiser',
    'refreshing': 'Actualisation...',
    'admin.panel': 'Panneau Admin',
    'loyalty.tiers': 'Niveaux de Fidélité',
    'platinum': 'Platine',
    'gold': 'Or',
    'silver': 'Argent',
    'lead': 'Débutant',
    'live.system': 'Système Actif',
    'customer.found': 'Client Trouvé',
    'customer.not.found': 'Client Non Trouvé',
    'no.customer.found.with.this.phone.number': 'Aucun client trouvé avec ce numéro de téléphone',
    'invoice.generated': 'Facture Générée',
    'invoice.has.been.generated.and.downloaded.successfully': 'La facture a été générée et téléchargée avec succès',
    'invoice.generation.failed': 'Échec de la Génération de Facture',
    'failed.to.generate.invoice.please.try.again': 'Échec de la génération de facture. Veuillez réessayer.',
    'invoice.generation': 'Génération de Facture',
    'create.invoices.with.qr.codes': 'Créer des factures avec codes QR',
    'customer.information.capture': 'Capture d\'informations client',
    'create.invoice': 'Créer Facture',
    'enter.customer.and.purchase.information.to.generate.an.invoice': 'Entrez les informations client et d\'achat pour générer une facture',
    'loading.customer.data': 'Chargement des données client...',
    'enter.liters': 'Entrez les litres',
    'enter.amount': 'Entrez le montant',
    'amount.currency': 'Montant (Kz)',
  }
};

class TranslationService {
  private currentLanguage: string = 'Portuguese';
  private languageChangeListeners: (() => void)[] = [];

  setLanguage(language: string): void {
    this.currentLanguage = language;
    // Notify all listeners
    this.languageChangeListeners.forEach(listener => listener());
  }

  getCurrentLanguage(): string {
    return this.currentLanguage;
  }

  getLanguage(): string {
    return this.currentLanguage;
  }

  translate(key: string): string {
    const languageTranslations = translations[this.currentLanguage];
    if (!languageTranslations) {
      console.warn(`Language ${this.currentLanguage} not found`);
      return key;
    }

    const translation = languageTranslations[key];
    if (!translation) {
      console.warn(`Translation key "${key}" not found for language ${this.currentLanguage}`);
      return key;
    }

    return translation;
  }

  getAvailableLanguages(): string[] {
    return Object.keys(translations);
  }

  addLanguageChangeListener(listener: () => void): void {
    this.languageChangeListeners.push(listener);
  }

  removeLanguageChangeListener(listener: () => void): void {
    const index = this.languageChangeListeners.indexOf(listener);
    if (index > -1) {
      this.languageChangeListeners.splice(index, 1);
    }
  }
}

export const translationService = new TranslationService();
